Mode: SCRIPT_VS_SCRIPT
[main] INFO org.testcontainers.images.PullPolicy - Image pull policy will be performed by: DefaultPullPolicy()
[main] INFO org.testcontainers.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
[main] INFO org.testcontainers.dockerclient.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
[main] INFO org.testcontainers.dockerclient.DockerClientProviderStrategy - Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
[main] INFO org.testcontainers.DockerClientFactory - Docker host IP address is localhost
[main] INFO org.testcontainers.DockerClientFactory - Connected to docker:
  Server Version: 28.5.2
  API Version: 1.51
  Operating System: Ubuntu 24.04.3 LTS
  Total Memory: 7959 MB
[main] INFO tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
[main] INFO org.testcontainers.utility.RegistryAuthLocator - Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.5.1, configFile: /root/.docker/config.json, configEnv: DOCKER_AUTH_CONFIG). Falling back to docker-java default behaviour. Exception message: Status 404: No config supplied. Checked in order: /root/.docker/config.json (file not found), DOCKER_AUTH_CONFIG (not set)
[main] INFO tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: c2599d090255edc28bda365281f4af51e4eb739a9be08468d43ac787bdab2236
[main] INFO tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.731239049S
[main] INFO org.testcontainers.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
[main] INFO org.testcontainers.DockerClientFactory - Checking the system...
[main] INFO org.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
[main] INFO tc.mysql:8.0 - Creating container for image: mysql:8.0
[main] INFO tc.mysql:8.0 - Container mysql:8.0 is starting: 90ccdd867f1082943e04bbb3601c3cf2232018d3758daaa2b2c37ae6f33ff369
[main] INFO tc.mysql:8.0 - Waiting for database connection to become available at jdbc:mysql://localhost:32771/test using query 'SELECT 1'
[main] INFO tc.mysql:8.0 - Container mysql:8.0 started in PT17.1915352S
[main] INFO tc.mysql:8.0 - Container is started (JDBC URL: jdbc:mysql://localhost:32771/test)
✓ Executed 334 SQL statements successfully
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - Starting MySQL schema extraction
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - MySQL version: 8.0
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - Extracting schema: test
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - Schema extraction completed successfully in 409ms - Tables: 240, Indexes: 258, Constraints: 500
[main] INFO tc.mysql:8.0 - Creating container for image: mysql:8.0
[main] INFO tc.mysql:8.0 - Container mysql:8.0 is starting: 7ff8e8d0543c450097b5150a9f4b7290a484ce9fdd4a20e9815496621f49d067
[main] INFO tc.mysql:8.0 - Waiting for database connection to become available at jdbc:mysql://localhost:32772/test using query 'SELECT 1'
[main] INFO tc.mysql:8.0 - Container mysql:8.0 started in PT24.242094368S
[main] INFO tc.mysql:8.0 - Container is started (JDBC URL: jdbc:mysql://localhost:32772/test)
⚠️  Warning: Skipping failed statement #4: Referencing column 'APP_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH2_SCOPE_VALIDATORS_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #5: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH1A_REQUEST_TOKEN_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #6: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH1A_ACCESS_TOKEN_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #7: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH2_ACCESS_TOKEN_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #8: Failed to open the referenced table 'IDN_OAUTH2_ACCESS_TOKEN'
⚠️  Warning: Skipping failed statement #10: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH2_AUTHORIZATION_CODE_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #11: Failed to open the referenced table 'IDN_OAUTH2_AUTHORIZATION_CODE'
⚠️  Warning: Skipping failed statement #12: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH2_DEVICE_FLOW_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #13: Failed to open the referenced table 'IDN_OAUTH2_DEVICE_FLOW'
⚠️  Warning: Skipping failed statement #14: Failed to open the referenced table 'IDN_OAUTH2_ACCESS_TOKEN'
⚠️  Warning: Skipping failed statement #89: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OIDC_REQ_OBJECT_REFERENCE_ibfk_1' are incompatible.
⚠️  Warning: Skipping failed statement #90: Failed to open the referenced table 'IDN_OIDC_REQ_OBJECT_REFERENCE'
⚠️  Warning: Skipping failed statement #91: Failed to open the referenced table 'IDN_OIDC_REQ_OBJECT_CLAIMS'
⚠️  Warning: Skipping failed statement #121: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
⚠️  Warning: Skipping failed statement #122: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
⚠️  Warning: Skipping failed statement #123: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
⚠️  Warning: Skipping failed statement #124: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
⚠️  Warning: Skipping failed statement #125: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
⚠️  Warning: Skipping failed statement #126: Table 'test.IDN_OAUTH2_AUTHORIZATION_CODE' doesn't exist
⚠️  Warning: Skipping failed statement #127: Table 'test.IDN_OAUTH2_AUTHORIZATION_CODE' doesn't exist
⚠️  Warning: Skipping failed statement #128: Table 'test.IDN_OAUTH2_AUTHORIZATION_CODE' doesn't exist
⚠️  Warning: Skipping failed statement #129: Table 'test.IDN_OAUTH2_AUTHORIZATION_CODE' doesn't exist
⚠️  Warning: Skipping failed statement #139: Table 'test.IDN_OIDC_REQ_OBJECT_REFERENCE' doesn't exist
⚠️  Warning: Skipping failed statement #140: Table 'test.IDN_OAUTH2_ACCESS_TOKEN_SCOPE' doesn't exist
⚠️  Warning: Skipping failed statement #147: Key column 'APP_NAME' doesn't exist in table
⚠️  Warning: Skipping failed statement #152: Table 'test.IDN_OAUTH2_TOKEN_BINDING' doesn't exist
⚠️  Warning: Skipping failed statement #153: Table 'test.IDN_OAUTH2_TOKEN_BINDING' doesn't exist
⚠️  Warning: Skipping failed statement #319: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
⚠️  Warning: Skipping failed statement #332: Table 'test.IDN_OAUTH2_ACCESS_TOKEN' doesn't exist
✓ Executed 305 SQL statements successfully (29 errors skipped)

⚠️  Note: 29 statement(s) failed but were skipped:
  - Statement #4: Referencing column 'APP_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH2_SCOPE_VALIDATORS_ibfk_1' are incompatible.
  - Statement #5: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH1A_REQUEST_TOKEN_ibfk_1' are incompatible.
  - Statement #6: Referencing column 'CONSUMER_KEY_ID' and referenced column 'ID' in foreign key constraint 'IDN_OAUTH1A_ACCESS_TOKEN_ibfk_1' are incompatible.
  ... and 26 more errors
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - Starting MySQL schema extraction
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - MySQL version: 8.0
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - Extracting schema: test
[main] INFO com.schemadiff.core.extractors.MySQLExtractor - Schema extraction completed successfully in 186ms - Tables: 227, Indexes: 230, Constraints: 469

═══════════════════════════════════════════════════════════
[-] SCHEMA SUMMARY:  17 Differences Found
═══════════════════════════════════════════════════════════
 |
 ├── [X] MISSING TABLES (13)
 │   ├── IDN_OAUTH1A_ACCESS_TOKEN
 │   ├── IDN_OAUTH1A_REQUEST_TOKEN
 │   ├── IDN_OAUTH2_ACCESS_TOKEN
 │   ├── IDN_OAUTH2_ACCESS_TOKEN_SCOPE
 │   ├── IDN_OAUTH2_AUTHORIZATION_CODE
 │   ├── IDN_OAUTH2_AUTHZ_CODE_SCOPE
 │   ├── IDN_OAUTH2_DEVICE_FLOW
 │   ├── IDN_OAUTH2_DEVICE_FLOW_SCOPES
 │   ├── IDN_OAUTH2_SCOPE_VALIDATORS
 │   ├── IDN_OAUTH2_TOKEN_BINDING
 │   ├── IDN_OIDC_REQ_OBJ_CLAIM_VALUES
 │   ├── IDN_OIDC_REQ_OBJECT_CLAIMS
 │   └── IDN_OIDC_REQ_OBJECT_REFERENCE
 |
 ├── [M] COLUMN DIFFERENCES
 │   ├── [! ] Table:  IDN_BASE_TABLE
 │      └── [M] Modified Column: PRODUCT_NAME - Type mismatch: varchar(20) != varchar(50)
 │   └── [! ] Table:  IDN_OAUTH_CONSUMER_APPS
        ├── [M] Modified Column: ID - Type mismatch: int(10) != bigint(19)
        └── [X] Missing Column: APP_NAME [varchar(255)]
 |
 └── [I] INDEX DIFFERENCES
     └── [!] Table: IDN_OAUTH_CONSUMER_APPS
        └── [X] Missing Index on: USERNAME,TENANT_ID,USER_DOMAIN,APP_NAME

═══════════════════════════════════════════════════════════
Legend:
  [-] Root summary
  [X] Missing:  Exists in Reference but not in Target
  [+] Extra:  Exists in Target but not in Reference
  [M] Modified: Structural change detected
  [! ] Warning: Requires attention
  [C] Constraint mismatch
  [I] Index mismatch
═══════════════════════════════════════════════════════════

EXIT_CODE=1
